<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CART Visualizer (Iris Subset)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>CART Decision Tree Visualizer</h1>
    <p class="subtitle">Iris 20-sample subset (client-side only)</p>
  </header>


  <main>
    <section id="feature-projection" class="panel full-width">
      <h2>Feature Projections <small id="global-gini" class="global-gini" aria-live="polite">G: <span class="gini-value">--</span></small></h2>
      <div class="subset-controls">
        <label>Seed: <input id="subset-seed" type="number" value="42" min="0" step="1" /></label>
        <button id="regen-subset" type="button">Generate New Subset</button>
      </div>
  <div id="feature-select-bar" class="feature-select-bar"></div>
      <div id="projection-legend" class="legend"></div>
      <div id="projections-wrapper">
        <div class="projection-row" data-feature-index="0">
          <div class="projection-title"></div>
          <div class="projection-container"></div>
        </div>
        <div class="projection-row" data-feature-index="1">
          <div class="projection-title"></div>
          <div class="projection-container"></div>
        </div>
        <div class="projection-row" data-feature-index="2">
          <div class="projection-title"></div>
          <div class="projection-container"></div>
        </div>
        <div class="projection-row" data-feature-index="3">
          <div class="projection-title"></div>
          <div class="projection-container"></div>
        </div>
      </div>
      <div id="best-split-reveal" class="best-split-section">
        <button id="show-best-split" type="button">Reveal scikit-learn first split</button>
        <div id="best-split-output" class="best-split-output" hidden></div>
      </div>
    </section>
  </main>

  <footer>
    <small>All processing in browser. Iris subset seed=42.</small>
  </footer>

  <script type="module" src="js/app.js"></script>
  <script type="module">
    const seedInput = document.getElementById('subset-seed');
    const regenBtn = document.getElementById('regen-subset');
    regenBtn.addEventListener('click', () => {
      const seed = parseInt(seedInput.value, 10);
      if (!Number.isFinite(seed) || seed < 0) return;
      window.regenerateSubset(seed);
    });
  </script>
</body>
</html>
